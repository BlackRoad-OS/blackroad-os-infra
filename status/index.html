<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BlackRoad OS Status</title>
    <style>
        :root {
            --bg: #0a0a0a;
            --card-bg: #141414;
            --border: #262626;
            --text: #fafafa;
            --text-muted: #a1a1aa;
            --green: #22c55e;
            --yellow: #eab308;
            --red: #ef4444;
            --blue: #3b82f6;
            --orange: #FF6B00;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            padding: 2rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .logo {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--orange), #FF0066);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
        }

        .subtitle {
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .status-banner {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .status-banner.healthy {
            border-color: var(--green);
        }

        .status-banner.degraded {
            border-color: var(--yellow);
        }

        .status-banner.down {
            border-color: var(--red);
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .status-indicator.healthy { background: var(--green); }
        .status-indicator.degraded { background: var(--yellow); }
        .status-indicator.down { background: var(--red); }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .status-text {
            font-size: 1.1rem;
            font-weight: 500;
        }

        .last-updated {
            margin-left: auto;
            color: var(--text-muted);
            font-size: 0.85rem;
        }

        .services-grid {
            display: grid;
            gap: 1rem;
        }

        .service-card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem 1.25rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: border-color 0.2s;
        }

        .service-card:hover {
            border-color: var(--text-muted);
        }

        .service-status {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        .service-status.healthy { background: var(--green); }
        .service-status.degraded { background: var(--yellow); }
        .service-status.down { background: var(--red); }

        .service-info {
            flex: 1;
        }

        .service-name {
            font-weight: 500;
            margin-bottom: 0.25rem;
        }

        .service-url {
            color: var(--text-muted);
            font-size: 0.8rem;
        }

        .service-metrics {
            text-align: right;
            font-size: 0.85rem;
        }

        .response-time {
            color: var(--text-muted);
        }

        .response-time.fast { color: var(--green); }
        .response-time.medium { color: var(--yellow); }
        .response-time.slow { color: var(--red); }

        .section-title {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin: 2rem 0 1rem;
        }

        .incidents {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.5rem;
        }

        .no-incidents {
            color: var(--text-muted);
            text-align: center;
            padding: 1rem;
        }

        footer {
            text-align: center;
            margin-top: 3rem;
            color: var(--text-muted);
            font-size: 0.85rem;
        }

        footer a {
            color: var(--orange);
            text-decoration: none;
        }

        .loading {
            text-align: center;
            padding: 2rem;
            color: var(--text-muted);
        }

        .spinner {
            width: 24px;
            height: 24px;
            border: 2px solid var(--border);
            border-top-color: var(--orange);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">BlackRoad OS</div>
            <p class="subtitle">System Status</p>
        </header>

        <div id="status-banner" class="status-banner">
            <div class="spinner"></div>
            <span class="status-text">Checking services...</span>
        </div>

        <div class="section-title">Services</div>
        <div id="services-grid" class="services-grid">
            <div class="loading">
                <div class="spinner"></div>
                Loading service status...
            </div>
        </div>

        <div class="section-title">Recent Incidents</div>
        <div class="incidents">
            <div class="no-incidents">âœ… No incidents reported in the last 7 days</div>
        </div>

        <footer>
            <p>Powered by <a href="https://blackroad.io">BlackRoad OS</a></p>
            <p style="margin-top: 0.5rem;">Status checks run every 10 minutes</p>
        </footer>
    </div>

    <script>
        const services = [
            { name: 'Main Website', url: 'blackroad.io', category: 'Core' },
            { name: 'App Console', url: 'app.blackroad.io', category: 'Core' },
            { name: 'API Gateway', url: 'gateway.blackroad.io', category: 'Infrastructure' },
            { name: 'API', url: 'api.blackroad.io', category: 'Infrastructure' },
            { name: 'Agents', url: 'agents.blackroad.io', category: 'Services' },
            { name: 'Beacon', url: 'beacon.blackroad.io', category: 'Services' },
            { name: 'Core', url: 'core.blackroad.io', category: 'Services' },
            { name: 'Operator', url: 'operator.blackroad.io', category: 'Services' },
            { name: 'Prism Console', url: 'prism.blackroad.io', category: 'Services' },
            { name: 'Home', url: 'home.blackroad.io', category: 'Web' },
            { name: 'Demo', url: 'demo.blackroad.io', category: 'Web' },
            { name: 'Docs', url: 'docs.blackroad.io', category: 'Web' },
            { name: 'Brand', url: 'brand.blackroad.io', category: 'Web' },
            { name: 'API Gateway (.systems)', url: 'api.blackroad.systems', category: 'Systems' },
            { name: 'Core (.systems)', url: 'core.blackroad.systems', category: 'Systems' },
            { name: 'Infra (.systems)', url: 'infra.blackroad.systems', category: 'Systems' },
            { name: 'Console (.systems)', url: 'console.blackroad.systems', category: 'Systems' },
            { name: 'Docs (.systems)', url: 'docs.blackroad.systems', category: 'Systems' },
            { name: 'Prism (.systems)', url: 'prism.blackroad.systems', category: 'Systems' },
            { name: 'Beacon (.systems)', url: 'beacon.blackroad.systems', category: 'Systems' },
            { name: 'Research (.systems)', url: 'research.blackroad.systems', category: 'Systems' },
            { name: 'Demo (.systems)', url: 'demo.blackroad.systems', category: 'Systems' },
            { name: 'Archive (.systems)', url: 'archive.blackroad.systems', category: 'Systems' },
            { name: 'Agents (.systems)', url: 'agents.blackroad.systems', category: 'Systems' },
            { name: 'Finance Pack', url: 'finance.blackroad.systems', category: 'Packs' },
            { name: 'Legal Pack', url: 'legal.blackroad.systems', category: 'Packs' },
            { name: 'Lab Pack', url: 'lab.blackroad.systems', category: 'Packs' },
            { name: 'DevOps Pack', url: 'devops.blackroad.systems', category: 'Packs' },
        ];

        async function checkService(service) {
            const start = Date.now();
            try {
                const response = await fetch(`https://${service.url}`, {
                    mode: 'no-cors',
                    cache: 'no-cache'
                });
                const responseTime = Date.now() - start;
                return {
                    ...service,
                    status: 'healthy',
                    responseTime
                };
            } catch (e) {
                return {
                    ...service,
                    status: 'degraded',
                    responseTime: Date.now() - start
                };
            }
        }

        async function checkAllServices() {
            const results = await Promise.all(services.map(checkService));

            const healthyCount = results.filter(s => s.status === 'healthy').length;
            const totalCount = results.length;

            // Update banner
            const banner = document.getElementById('status-banner');
            const allHealthy = healthyCount === totalCount;
            const status = allHealthy ? 'healthy' : healthyCount > totalCount / 2 ? 'degraded' : 'down';

            banner.className = `status-banner ${status}`;
            banner.innerHTML = `
                <div class="status-indicator ${status}"></div>
                <span class="status-text">${
                    allHealthy ? 'All Systems Operational' :
                    `${healthyCount}/${totalCount} Services Operational`
                }</span>
                <span class="last-updated">Updated ${new Date().toLocaleTimeString()}</span>
            `;

            // Update services grid
            const grid = document.getElementById('services-grid');
            grid.innerHTML = results.map(service => {
                const timeClass = service.responseTime < 500 ? 'fast' :
                                  service.responseTime < 1500 ? 'medium' : 'slow';
                return `
                    <div class="service-card">
                        <div class="service-status ${service.status}"></div>
                        <div class="service-info">
                            <div class="service-name">${service.name}</div>
                            <div class="service-url">${service.url}</div>
                        </div>
                        <div class="service-metrics">
                            <div class="response-time ${timeClass}">${service.responseTime}ms</div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Initial check
        checkAllServices();

        // Refresh every 60 seconds
        setInterval(checkAllServices, 60000);
    </script>
</body>
</html>
